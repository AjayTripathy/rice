<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Rice/Pilaf--Signup</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="Dog-tags for the 21st century">
		<meta name="author" content="Ajay Tripathy, Kevin Hwang, Nelson Zhang, Rodney Folz">

		<link href="css/bootstrap.css" rel="stylesheet"> 
		<link href="css/bootstrap-responsive.css" rel="stylesheet">

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
	    <!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->

	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	    <script>
	    $(document).ready(function () {
	    	$(document).keydown(function (e) {
	    		if (e.which === 13) {
	    			/*
	    			var focusId = $(document.activeElement).attr("id");
	    			if (focusId === "username" || focusId === "password" || focusId === "contact" || focusId === "contactNum") {

	    			}
	    			*/
	    			$("#signButton").click();
	    		}
	    	})

	    	$("#signButton").click(function () {
	    		register();
	    	});

	    	var register = function () {
	    		var name = $("#username").val();
	    		var pw = $("#password").val();
	    		var allergies = [$("#allergy").val()];
	    		var bloodType = $("#bloodType").val();
	    		var contactName = $("#contact").val();
	    		var contactNumber = $("#contactNum").val();
	    		var contactJson = {name : contactName, phoneNumber: contactNumber};
	    		var contact = [contactJson];
	    		$.post("http://localhost:8080/signup", {
	    			username: name,
	    			password: pw,
	    			allergies: allergies,
	    			contacts: contact,
	    			bloodType: bloodType
	    		}, function (data) {
	    			console.log(data);
	    		});
	    	}

	    });
	    </script>
	</head>
    <body>
    	<div class="container">
    		<div class="hero-unit">
    			<h1>Sign up!</h1>
    			<p>Input your information here and enjoy piece of mind!</p>
    		</div>

    		<div class="row">
    			<div class="span12">
    				<div class="well">
    					<label>Username</label>
    					<input id="username" type="text" placeholder="Rainbow Dash">
    					<label>Password</label>
    					<input id="password" type="password" placeholder="******">
    					<label>Blood Type</label>
    					<input id="bloodType" type="text" placeholder="F-">
    					<label>Allergy</label>
    					<input id="allergy" type="text" placeholder="water">
    					<label>Emergency Contact</label>
    					<input id="contact" type="text" placeholder="Fluttershy">
    					<label>Contact #</label>
    					<input id="contactNum" type="tel" placeholder="909-867-5309">

    					<br>
    					<button id="signButton" type="btn btn-primary">Sign-up</button>
    				</div>
    			</div>
    		</div>
    	</div>
    </body>
</html>